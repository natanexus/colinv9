gsap.registerPlugin(DrawSVGPlugin);var instance=new SiriWave({container:document.getElementById("container-wave"),style:"ios",autostart:!0,color:"#0A0A0A",speed:.02,curveDefinition:[{attenuation:-2,lineWidth:1,opacity:.1},{attenuation:-6,lineWidth:1,opacity:.2},{attenuation:4,lineWidth:1,opacity:.4},{attenuation:2,lineWidth:1,opacity:.4},{attenuation:1,lineWidth:1.5,opacity:.5},]});function initLenis(){let e;if(void 0===Webflow.env("editor")){function t(r){e.raf(r),requestAnimationFrame(t)}e=new Lenis({lerp:.1,wheelMultiplier:.7,gestureOrientation:"vertical",normalizeWheel:!1,smoothTouch:!1}),requestAnimationFrame(t)}$("[data-lenis-start]").on("click",function(){e.start()}),$("[data-lenis-stop]").on("click",function(){e.stop()}),$("[data-lenis-toggle]").on("click",function(){$(this).toggleClass("stop-scroll"),$(this).hasClass("stop-scroll")?e.stop():e.start()})}particlesJS("particles-js",{particles:{number:{value:137,density:{enable:!0,value_area:4647.499015360377}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:1.5,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"top",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:559.7760895641745,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:717.9151743337345,size:0,duration:2,opacity:0,speed:3},repulse:{distance:63.814682162998636,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0});let audioStopDiv=document.getElementById("audiostop"),audioElements=document.querySelectorAll("audio"),isMuted=!1;function toggleMute(){isMuted=!isMuted,audioElements.forEach(function(e){isMuted?(e.dataset.originalVolume=e.volume,e.volume=0):e.volume=e.dataset.originalVolume||1})}audioStopDiv.addEventListener("click",toggleMute);let tuiles=document.querySelectorAll(".movie__tuile");tuiles.forEach(function(e){e.addEventListener("mouseenter",function(){var t=e.querySelector(".audio-hover");t&&t.paused&&t.play()}),e.addEventListener("mouseleave",function(){let t=e.querySelector(".audio-hover");t&&!t.paused&&(t.pause(),t.currentTime=0)})});const splitLines={opacity:0,y:30,autoAlpha:0,stagger:.1},splitChars={duration:.7,y:300,autoAlpha:0,stagger:.05},charsSetUp={type:"lines,words,chars",linesClass:"split-line-header"},lineSetup={type:"lines,words,chars"},Grain=document.getElementById("graintexture");let TLgrain=gsap.timeline({repeat:-1,duration:0}),mm=gsap.matchMedia();mm.add("(min-width: 800px)",()=>{let e=document.getElementById("loadtext"),t=document.getElementById("btnenter"),r=document.getElementById("audio-intro"),o=document.getElementById("audio-baleine"),i=gsap.timeline(),a=gsap.timeline();gsap.timeline({defaults:{duration:.01}}).to(e,{text:"00"}).to(e,{text:"10"},"+=0.5").to(e,{text:"16"},"+=0.3").to(e,{text:"35"},"+=0.2").to(e,{text:"55"},"+=0.3").to(e,{text:"79"},"+=0.8").to(e,{text:"100"},"+=0.4").to(e,{opacity:0,duration:.8},"+=0.4").to("#pourcent",{opacity:0,duration:.8},"<").to(t,{opacity:1,duration:.8}),i.to("#circle1",{opacity:1,scale:1,duration:1.8},"<").to("#circle2",{opacity:1,scale:1,duration:1.8},"<20%").to("#circle3",{opacity:1,scale:1,duration:1.8},"<20%"),a.to("#circle1",{opacity:0,scale:.8,duration:.6}).to("#circle2",{opacity:0,scale:.8,duration:.6},"<20%").to("#circle3",{opacity:0,scale:.8,duration:.6},"<20%").to("#wrloader",{opacity:0,duration:.8}).to("#wrloader",{display:"none",duration:.01}).paused(!0),TLgrain.to(Grain,{x:10,duration:.01}).to(Grain,{y:-10,duration:.01}).to(Grain,{x:-10,duration:.01}).to(Grain,{y:10,duration:.01});let n=new SplitText("#typehead",charsSetUp),l=gsap.timeline({defaults:{ease:"power1.inOut"}});l.to(".is--haut-bas",{width:"100%"},{width:"100%",duration:.5}).to(".is--l-r",{height:"100%"},{height:"100%",duration:.5}).to("#maskimgheader",{height:"66em",duration:.8}).to("#lightheader1",{opacity:1,duration:1.2},"<").to("#lightheader2",{opacity:1,duration:1.2},"<10%").to("#colinimgheader",{opacity:1,duration:1.2},"<%").to("#wrrondheader",{height:"66em",duration:.8},"<").from(".line-header",{duration:.8,drawSVG:0,stagger:.2},"<10%").from(n.chars,splitChars).to("#logo-header",{opacity:1,duration:1},"<").to("#wrrondheader",{overflow:"visible",duration:.01},"<").fromTo("#traitheader",{opacity:0},{opacity:1,duration:.01},"<").delay(2.4).paused(!0),t.addEventListener("click",()=>{a.play(),l.play(),r.play(),initLenis(),body.style.overflow="visible"});let s=gsap.timeline({scrollTrigger:{trigger:".wr-all-i-do",markers:!1,start:"top center+=150",end:"center center+=150"}}),c=new SplitText(".aid-text",charsSetUp);s.to("#trianglehaut",{opacity:1,duration:.2}).to(".aid-line-stagger",{width:"100%",ease:"power4.out",stagger:.1,duration:1}).to(".triangle-svg-2",{opacity:1,duration:.2},"<").from(c.chars,splitChars,"<10%").to("#trianglebas",{opacity:1,duration:.2},"<20%"),ScrollTrigger.create({trigger:"#wrpinartist",pin:!0,pinSpacing:!1,markers:!1,start:"center center",end:"900% center"});let d=gsap.timeline({defaults:{opacity:1},scrollTrigger:{trigger:"#sectionrond",pin:!0,scrub:!0,markers:!1,start:"center center",end:"500% center"}}),u=new SplitText("#textrond",lineSetup);d.to("#wrrond",{width:"85em"}).to("#wrrond",{height:"85em"}).to("#rond2",{height:"80%"},"<1%").to("#rond3",{height:"75%"},"<1%").to("#wrrondlight",{rotation:90}).to("#rond4",{width:"35em"},"<").to("#rondstagg1",{x:"-3em"},"<20%").to("#rondstagg1bis",{x:"3em"},"<").to("#rondstagg2",{x:"-6em"},"<").to("#rondstagg2bis",{x:"6em"},"<").to("#rondstagg3",{x:"-9em"},"<").to("#rondstagg3bis",{x:"9em"},"<").from(u.lines,splitLines);let g=new SplitText("#souffletext1",{type:"lines,words,chars"}),p=new SplitText("#souffletext2",{type:"lines,words,chars"}),_=gsap.timeline({scrollTrigger:{trigger:"#sectionsouffle",pin:!0,scrub:!0,markers:!1,start:"center center",end:"700% center"}});_.from(g.lines,splitLines).to("#soufflemask",{height:"58em"},"<10%").to("#souffleimg1",{opacity:1,duration:.3},"<75%").to("#souffletext1",{opacity:0,duration:.3},"<95%").to("#soufflemask",{x:"52em",duration:.3},"<40%").to("#souffleimg2",{opacity:1,duration:.2}).from(p.lines,splitLines).to("#lungimgrond",{opacity:1},"<").to("#lungronddash",{opacity:1},"<10%").to("#lungwrrond",{opacity:1},"<10%").to("#lungwrrond",{rotation:540},"<80%");let m=new SplitText("#instrutext",lineSetup);gsap.from(m.lines,{...splitLines,scrollTrigger:{trigger:"#instrutext",markers:!1,start:"center center+=150",end:"center center+=150"}});let y=document.querySelectorAll(".wr-instru-mousemove");function h(){o.paused?o.play():(o.pause(),o.currentTime=0)}y.forEach(e=>{let t=gsap.from(e.querySelectorAll(".st0"),{duration:.6,drawSVG:0,paused:!0});e.addEventListener("mouseenter",()=>{t.play()}),e.addEventListener("mouseleave",()=>{t.reverse()})}),gsap.timeline({scrollTrigger:{trigger:"#sectionloneli",markers:!1,start:"top center",end:"310% center",onEnter(){h()},onLeave(){o.pause(),o.currentTime=0}}}),gsap.to("#particles-js",{scrollTrigger:{trigger:"#sectionloneli",markers:!1,start:"top bottom",end:"top bottom",toggleActions:"play none reverse none"},opacity:1,duration:1.5});let f=document.getElementById("wrbaleineone"),b=gsap.timeline({defaults:{duration:2,ease:"power2.inOut"},scrollTrigger:{trigger:f,scrub:!0,markers:!1,start:"bottom+=100% top",end:"300% center"}});function w(e,t){gsap.to(e,{yPercent:t,ease:"none",scrollTrigger:{trigger:"#section-baleine",scrub:!0,markers:!1}})}b.to("#baleinelumiere",{opacity:1}).to(".body",{backgroundColor:"#FFF0D4"},"<50%").to("#cadreblanc",{opacity:1},"<").to("#cadrenoir",{opacity:0},"<").to(f,{opacity:0},"<").to("#wrgrain",{opacity:0},"<").to(".baleine",{opacity:0},"<10%"),w("#baleine1",300),w("#baleine2",450),w("#baleine3",300),w("#baleine4",300),w("#baleine5",380),w("#baleine6",300),w(f,300),gsap.to("#sectionwave",{scrollTrigger:{trigger:"#sectiontextbaleine",start:"top-=200 bottom",end:"bottom-=500 bottom",markers:!1,toggleActions:"play reverse restart reverse"},opacity:1,duration:1});gsap.timeline({defaults:{duration:.8,opacity:1},scrollTrigger:{trigger:"#sectionend",start:"top center",end:"top center",toggleActions:"play none reverse none",markers:!1}}).to("#cadrenoir",{}).to("#wrgrain",{},"<").to("#cadreblanc",{opacity:0},"<").to("#particles-js",{opacity:0},"<").to(".body",{backgroundColor:"#0A0A0A"},"<");let v=new SplitText(".text-thank",{type:"lines,words,chars",linesClass:"split-line-header"});gsap.from(v.chars,{duration:.7,y:300,autoAlpha:0,stagger:.05,scrollTrigger:{trigger:"#textthank",start:"top center-=150",markers:!1}});let x=document.querySelectorAll(".is--text-line");x.forEach(e=>{let t=new SplitText(e,lineSetup);gsap.from(t.lines,{duration:.6,y:30,autoAlpha:0,stagger:.1,scrollTrigger:{trigger:e,start:"center 75%",markers:!1}})});let k=document.querySelectorAll(".is--text-chars");k.forEach(e=>{let t=new SplitText(e,charsSetUp);gsap.from(t.chars,{duration:.5,y:30,autoAlpha:0,stagger:.1,ease:"power1.inOut",scrollTrigger:{trigger:e,start:"center 75%",markers:!1}})})});
